# cloudrun-recipe.yaml
name: gcp-cloud-run
description: Deploy to Google Cloud Run
provider: gcp
platform: serverless
steps:
  - name: build binary
    execution_mode: service_dir
    timeout: 300
  
  - name: build docker image
    execution_mode: service_dir
    timeout: 300
  
  - name: publish to registry
    execution_mode: root
    timeout: 120
    
  - name: deploy to cloud run
    execution_mode: root
    timeout: 180
    default_retries: 2